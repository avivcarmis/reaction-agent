/*!
 * ReactionAgent v1.2 FOR DEVELOPMENT (https://avivcarmis.github.io/reaction-agent)
 * Copyright (c) 2015 Aviv Carmi
 * Licensed under MIT (https://avivcarmis.github.io/reaction-agent/license)
 */
;(function(c){function b(){this.stack=[];this.pressedKeys={};this.initialized=false}b.prototype.init=function(){if(this.initialized){return}this.initialized=true;var d=this;document.addEventListener("keydown",function(g){var f=d.getActiveLayer();if(f===null){return}var e=f.callHandlerByKeyCode(g);if(e){g.preventDefault()}},true)};b.prototype.createLayer=function(){this.init();var d=new a();this.stack.push(d);return d};b.prototype.removeLayer=function(e){var d=this.getLayerIndex(e);if(d==-1){return false}this.stack.splice(d,1);return true};b.prototype.getActiveLayer=function(){return this.stack.length==0?null:this.stack[this.stack.length-1]};b.prototype.getLayer=function(e){var d=this.getLayerIndex(e);return d==-1?null:this.stack[d]};b.prototype.getLayerIndex=function(f){for(var e=0;e<this.stack.length;e++){var d=this.stack[e];if(d.getKey()==f){return e}}return -1};b.prototype.mapToConsole=function(){document.addEventListener("keydown",function(d){console.log(d.which||d.keyCode)})};function a(){this.key=a.freeKey++;this.data={}}a.freeKey=0;a.defaultCombination={ctrl:false,alt:false,shift:false};a.normalizeKeyValue=function(d){if(d==="ctrl"){return 17}if(d==="alt"){return 18}if(d==="shift"){return 16}return d.charCodeAt(0)};a.prototype.getKey=function(){return this.key};a.prototype.add=function(f,g,e){if(typeof f==="string"){var h=a.normalizeKeyValue(f.toUpperCase());var i=a.normalizeKeyValue(f.toLowerCase());this.add(h,g,e);if(i!=h){this.add(i,g,e)}return}var d=c.extend({},a.defaultCombination,e);if(typeof g!=="function"){throw"Keypress Layer handler must be a function. Received value was "+typeof g}if(!this.data[f]){this.data[f]=[]}this.data[f].push({combination:d,handler:g});return this};a.prototype.callHandlerByKeyCode=function(d){var h=d.which||d.keyCode;var g=this.data[h];if(notDefined(g)){return false}for(var f=0;f<g.length;f++){var e=g[f].combination;if(e.ctrl!=d.ctrlKey){continue}if(e.alt!=d.altKey){continue}if(e.shift!=d.shiftKey){continue}g[f].handler(h);return true}return false};a.prototype.destroy=function(){window.KeypressAgent.removeLayer(this.key)};window.KeypressAgent=new b()})(jQuery);(function(b){function a(){}a.defaultReflectors=[{name:"xs",min:null,max:768},{name:"sm",min:768,max:992},{name:"below-sm",min:null,max:992},{name:"above-sm",min:768,max:null},{name:"md",min:992,max:1200},{name:"below-md",min:null,max:1200},{name:"above-md",min:992,max:null},{name:"lg",min:1200,max:null}];a.pseudoSelectors=["hover","active"];a.uniqueElementID=0;a.getStyleElement=function(){var c=b("style#css-agent-rules");if(c.length==0){c=b('<style type="text/css" id="css-agent-rules">').appendTo("head")}return c.eq(0)};a.generateUniqueSelector=function(d){var e=b(d).attr("id");if(notDefined(e)){var c=a.uniqueElementID++;e="REACTION-AGENT-UNIQUE-ID-"+c;b(d).attr("id",e)}return"#"+e};a.generateRule=function(h,d,g){if(h.min===null&&h.max===null){return""}var e=h.min!==null?"(min-width: "+h.min+"px)":"";var c=h.max!==null?"(max-width: "+(h.max-1)+"px)":"";var f=e!=""&&c!=""?" and ":"";return"@media "+e+f+c+" {"+d+"{"+g+"}}"};a.getAttributeValue=function(c,f,d){var e=f;if(isDefined(d)){e+="-"+d}return b(c).attr("data-ca-"+e)||b(c).attr("ca-"+e)};a.prototype.start=function(e){this.reflectors=isDefined(e)?e:a.defaultReflectors;var c=this;for(var d=0;d<this.reflectors.length;d++){(function(g){DOMAgent.add("[data-ca-"+g+"],[ca-"+g+"]",function(){c.handleElement(this,g)});for(var f=0;f<a.pseudoSelectors.length;f++){(function(h){DOMAgent.add("[data-ca-"+g+"-"+h+"],[ca-"+g+"-"+h+"]",function(){c.handleElement(this,g,h)})})(a.pseudoSelectors[f])}})(this.reflectors[d].name)}};a.prototype.getReflectorByName=function(d){for(var c=0;c<this.reflectors.length;c++){if(this.reflectors[c].name==d){return this.reflectors[c]}}throw"Reflector named "+d+" not found"};a.prototype.handleElement=function(e,i,f){var d=a.getStyleElement();var h=this.getReflectorByName(i);var c=a.generateUniqueSelector(e);var g=a.getAttributeValue(e,i,f);if(isDefined(f)){c+=":"+f}d.get(0).textContent=d.text()+a.generateRule(h,c,g)};window.CSSAgent=new a()})(jQuery);(function(c){function a(){this.freeHandlerKey=0;this.initialized=false;this.handlerDescriptors=[]}a.prototype.add=function(e,f){this.init();var d=new b(e,f);this.handlerDescriptors.push(d);c(function(){c(e).each(function(){d.execute(this)})});return d.getKey()};a.prototype.remove=function(d){var e=this.getDescriptorIndexByKey(d);if(e==-1){return false}this.handlerDescriptors.splice(e,1);return true};a.prototype.getDescriptorIndexByKey=function(e){for(var d=0;d<this.handlerDescriptors.length;d++){var f=this.handlerDescriptors[d];if(f.getKey()==e){return d}}return -1};a.prototype.init=function(){if(this.initialized){return}this.initialized=true;var d=this;for(var f=0;f<a.jqueryDOMMethodDescriptors.length;f++){var e=a.jqueryDOMMethodDescriptors[f];(function(g,i){var h=c.fn[g];c.fn[g]=function(){var k=this;var m=c(arguments[0]);var l=i(k,m);var j=h.apply(k,arguments);d.trigger(l);return j}})(e.name,e.wrapper)}};a.prototype.trigger=function(g){g.trigger("domagentchange");for(var f=0;f<this.handlerDescriptors.length;f++){var j=this.handlerDescriptors[f];var h=j.getSelector();var e=j.getKey();var d="domagent-"+e;g.find(h).each(function(){if(isDefined(c(this).data(d))){return}c(this).data(d,true);j.execute(this)})}};a.jqueryDOMMethodDescriptors=[{name:"after",wrapper:function(d,e){return d.parent()}},{name:"append",wrapper:function(d,e){return d}},{name:"appendTo",wrapper:function(d,e){return e}},{name:"before",wrapper:function(d,e){return d.parent()}},{name:"detach",wrapper:function(d,e){return d.parent()}},{name:"empty",wrapper:function(d,e){return d}},{name:"html",wrapper:function(d,e){return d}},{name:"insertAfter",wrapper:function(d,e){return e.parent()}},{name:"insertBefore",wrapper:function(d,e){return e.parent()}},{name:"prepend",wrapper:function(d,e){return d}},{name:"prependTo",wrapper:function(d,e){return e}},{name:"remove",wrapper:function(d,e){return d.parent()}},{name:"replaceAll",wrapper:function(d,e){return e.parent()}},{name:"replaceWith",wrapper:function(d,e){return d.parent()}},{name:"text",wrapper:function(d,e){return d}},{name:"unwrap",wrapper:function(d,e){return d.parent().parent()}},{name:"wrap",wrapper:function(d,e){return d.parent()}},{name:"wrapAll",wrapper:function(d,e){return d.parent()}},{name:"wrapInner",wrapper:function(d,e){return d}},];function b(d,e){this.key=b.freeKey++;this.selector=d;this.handler=e}b.freeKey=0;b.prototype.getKey=function(){return this.key};b.prototype.getSelector=function(){return this.selector};b.prototype.execute=function(d){this.handler.call(d)};window.DOMAgent=new a()})(jQuery);(function(b){function a(){this.breakpoints=[];this.current=null;this.initialized=false}a.prototype.add=function(g,e,f){this.init();var d=new c(g,e,f);this.breakpoints.push(d);return d.getKey()};a.prototype.remove=function(e){var d=this.getBreakpointIndexByKey(e);if(d==-1){return false}this.breakpoints.splice(d,1);return true};a.prototype.init=function(){if(this.initialized){return}this.initialized=true;var d=this;var e=function(){var f=d.calcBreakpointIndex();if(d.current===f){return}d.current=f;d.breakpoints[d.current].handler()};b(window).scroll(e).resize(e).load(e)};a.events=function(){if(a.eventsInitialized===true){return}a.eventsInitialized=true;a.top=b(window).scrollTop();b(window).scroll(function(){var d=b(window).scrollTop();if(d>a.top){b(document).trigger("scrolldown")}else{b(document).trigger("scrollup")}a.top=d})};a.prototype.calcBreakpointIndex=function(){var h=b(window).scrollTop();var g=0,d=0;for(var e=0;e<this.breakpoints.length;e++){var f=this.breakpoints[e].getValue();if(h>=f&&f>d){g=e;d=f}}return g};a.prototype.getBreakpointIndexByKey=function(e){for(var d=0;d<this.breakpoints.length;d++){if(this.breakpoints[d].getKey()==e){return d}}return -1};function c(f,d,e){this.key=c.nextFreeKey++;this.offset=e||0;this.handler=d;this.test=c.buildTestFunction(f)}c.prototype.getKey=function(){return this.key};c.prototype.getValue=function(){return this.test()+this.offset};c.nextFreeKey=0;c.buildTestFunction=function(d){if(typeof d=="function"){return d}if(typeof d=="number"){return function(){return d}}return function(){var e=b(d);return e.length>0?e.offset().top:b(document).height()}};window.ScrollAgent=a})(jQuery);(function(a){function b(d,g,f,c,e){this.element=d;this.test=g;this.success=f;this.fail=c;this.settings=a.extend({},b.defaults,e);this.run=true;this.init()}b.prototype.init=function(){var c=this;if(this.settings.validateType){a(this.element).keypress(function(g){if(!c.run){return}var d=this.value+String.fromCharCode(g.keyCode);var f=c.test(d);if(f){c.success.call(c.element);return true}else{c.fail.call(c.element);return false}})}if(this.settings.validateBlur){a(this.element).blur(function(){if(!c.run){return}var d=c.test(this.value);if(d){c.success()}else{c.fail()}})}};b.prototype.pause=function(){this.run=false};b.prototype.resume=function(){this.run=true};b.defaults={validateBlur:true,validateType:true};a.fn.validationAgent=function(d,h,c,f){if(typeof d=="string"){var g=[];this.each(function(){var i=a(this).data("validationObject");if(notDefined(i)){throw"Reaction Agent Error: validation object corrupted or not found"}g.push(i)});if(d=="pause"){for(var e=0;e<g.length;e++){g[e].pause()}}else{if(d=="resume"){for(var e=0;e<g.length;e++){g[e].resume()}}else{throw"Reaction Agent Error: command "+d+" is illigal"}}return this}if(typeof d!="function"&&notDefined(d.test)){throw"Reaction Agent Error: Illigal tester supplied to jquery validation method"}if(typeof d=="function"){var j=d}else{var j=function(i){return d.test(i)}}return this.each(function(){a(this).data("validationObject",new b(a(this),j,h,c,f))})}})(jQuery);(function(b){b.fn.hasAncestor=function(c){return this.is(c)||b(c).find(this).length>0};b.fn.takeMeThere=function(d,c){var f=extractParam("function");var e=extractParam("object");e=b.extend({},b.fn.takeMeThere.DEFAULTS,e);this.eq(0).each(function(){var h=b(this).offset().top-e.margin;var i=b(window).scrollTop();if(!e.goUp&&h<i){return}if(!e.goDown&&h>i){return}var g=false;b("html, body").animate({scrollTop:(b(this).offset().top-e.margin)+"px"},e.duration,function(){if(g){return}g=true;if(typeof f=="function"){f()}})});return this};b.fn.takeMeThere.DEFAULTS={duration:800,margin:0,goUp:true,goDown:true};b.fn.getWidth=function(e,c,d){return a(this,"width",e,c,d)};b.fn.getHeight=function(e,c,d){return a(this,"height",e,c,d)};b.fn.getCSSRestorer=function(){var e=this.attr("style")||"";var c={};for(var d=0;d<arguments.length;d++){c[arguments[d]]=e.indexOf(arguments[d])==-1?"":this.css(arguments[d])}return c};b.fn.showAndTest=function(g){var e=this.eq(0),c=e;var f=[];while(!e.is(":visible")&&!c.is("body")&&c.length>0){if(c.css("display")=="none"||c.css("visibility")=="hidden"){f.push({element:c,css:c.getCSSRestorer("display","visibility","overflow"),classes:c.attr("class")});c.show().css({visibility:"visible",overflow:"visible"}).removeClass("hidden-xs hidden-sm hidden-md hidden-lg")}c=c.parent()}g.apply(e.get(0));for(var d=0;d<f.length;d++){f[d].element.css(f[d].css).attr("class",f[d].classes)}return this};function a(f,h,g,d,e){if(h!="width"&&h!="height"){throw"Reaction Agent Error: getDimension received an illigal dimension "+h}var c=0;if(f.length>0){f.eq(0).showAndTest(function(){if(g){if(d){if(e){c=b(this)["outer"+h.ucfirst()](true)}else{c=b(this)["outer"+h.ucfirst()](false)}}else{c=b(this)["inner"+h.ucfirst()]()}}else{c=b(this)[h]()}})}return c}})(jQuery);function notDefined(a){return typeof a==="undefined"}function isDefined(a){return !notDefined(a)}function extractParam(a,b,c,e){var f=arguments.callee.caller.arguments;if(typeof a=="string"){var g=function(h){return typeof h==a}}else{var g=a}if(notDefined(c)){c=0}if(notDefined(e)){e=f.length-1}for(var d=c;d<=e;d++){if(g(f[d])){return f[d]}}return b}function responsiveBind(b,a){$(b);$(window).load(b).resize(b);if(a===true){b()}}String.prototype.ucfirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var MethodFactory={log:function(a){return function(){if(isDefined(console.log)){console.log(a)}}},debug:function(a){return function(){if(isDefined(console.debug)){console.debug(a)}}},error:function(a){return function(){if(isDefined(console.error)){console.error(a)}}},alert:function(a){return function(){alert(a)}},notEmpty:function(){return function(a){return a!=""}}};